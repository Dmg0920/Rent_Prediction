# ç§Ÿé‡‘é æ¸¬å°ˆæ¡ˆ (Rent Prediction Web)

åŸºæ–¼å°åŒ—å’Œæ–°åŒ—å¸‚æˆ¿å±‹è³‡æ–™çš„ç§Ÿé‡‘é æ¸¬æ©Ÿå™¨å­¸ç¿’å°ˆæ¡ˆï¼ŒåŒ…å«å®Œæ•´çš„è³‡æ–™è™•ç† pipeline å’Œ Django Web æ‡‰ç”¨ã€‚

## ğŸŒŸ å°ˆæ¡ˆç‰¹è‰²

âœ¨ **æ¸…æ™°æ¶æ§‹** - ML é–‹ç™¼å’Œ Web éƒ¨ç½²å®Œå…¨åˆ†é›¢
ğŸ”§ **é›¶é‡è¤‡ç¨‹å¼ç¢¼** - çµ±ä¸€çš„ç‰¹å¾µå·¥ç¨‹æ¨¡çµ„ï¼Œç¢ºä¿è¨“ç·´å’Œé æ¸¬ä¸€è‡´æ€§
ğŸ“Š **å®Œæ•´ ML æµç¨‹** - å¾åŸå§‹è³‡æ–™åˆ°ç”Ÿç”¢æ¨¡å‹çš„å®Œæ•´ pipeline
ğŸ“ˆ **è±å¯Œè¦–è¦ºåŒ–** - è‡ªå‹•ç”¢ç”Ÿå¤šç¨®åˆ†æåœ–è¡¨
ğŸš€ **ç”Ÿç”¢å°±ç·’** - çµ±ä¸€çš„æ¨¡å‹ç®¡ç†å’Œè¼‰å…¥æ©Ÿåˆ¶

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
Rent_Prediction_Web/
â”‚
â”œâ”€â”€ ml/                          # ğŸ§ª ML é–‹ç™¼ç’°å¢ƒ
â”‚   â”œâ”€â”€ data/                    # åŸå§‹å’Œè™•ç†å¾Œçš„è³‡æ–™
â”‚   â”œâ”€â”€ src/                     # ML åŸå§‹ç¢¼
â”‚   â”‚   â”œâ”€â”€ preprocessing/       # è³‡æ–™é è™•ç†æ¨¡çµ„
â”‚   â”‚   â””â”€â”€ models/             # æ¨¡å‹è¨“ç·´å’Œå·¥å…·
â”‚   â”œâ”€â”€ scripts/                # åŸ·è¡Œè…³æœ¬
â”‚   â”œâ”€â”€ output/                 # è¦–è¦ºåŒ–è¼¸å‡º
â”‚   â””â”€â”€ README.md               # ML ç’°å¢ƒèªªæ˜
â”‚
â”œâ”€â”€ webapp/                      # ğŸŒ Django Web æ‡‰ç”¨
â”‚   â”œâ”€â”€ rent_project/           # Django å°ˆæ¡ˆè¨­å®š
â”‚   â”œâ”€â”€ predictor/              # é æ¸¬æ‡‰ç”¨
â”‚   â”œâ”€â”€ manage.py               # Django ç®¡ç†å·¥å…·
â”‚   â””â”€â”€ README.md               # Web æ‡‰ç”¨èªªæ˜
â”‚
â”œâ”€â”€ shared/                      # ğŸ”— å…±ç”¨æ¨¡çµ„
â”‚   â”œâ”€â”€ feature_engineering.py  # çµ±ä¸€çš„ç‰¹å¾µå·¥ç¨‹é‚è¼¯
â”‚   â””â”€â”€ README.md               # å…±ç”¨æ¨¡çµ„èªªæ˜
â”‚
â””â”€â”€ docs/                        # ğŸ“š æ–‡ä»¶
    â””â”€â”€ USAGE.md                # è©³ç´°ä½¿ç”¨æŒ‡å—
```

## ğŸš€ å¿«é€Ÿé–‹å§‹

### 1. åŸ·è¡Œè³‡æ–™è™•ç†æµç¨‹

```bash
# å¾å°ˆæ¡ˆæ ¹ç›®éŒ„åŸ·è¡Œ
python ml/scripts/data_pipeline.py
```

ç”¢ç”Ÿï¼š
- æ¸…æ´—å¾Œçš„è³‡æ–™
- ç‰¹å¾µå·¥ç¨‹è³‡æ–™
- 5 å¼µè¦–è¦ºåŒ–åœ–è¡¨

### 2. è¨“ç·´æ¨¡å‹ï¼ˆé–‹ç™¼éšæ®µï¼‰

```bash
# è¨“ç·´ä¸¦è©•ä¼°å¤šå€‹æ¨¡å‹
python ml/src/models/train_model.py
```

### 3. å»ºç½®ç”Ÿç”¢æ¨¡å‹

```bash
# ä½¿ç”¨ 100% è³‡æ–™è¨“ç·´æœ€çµ‚æ¨¡å‹
python ml/src/models/build_production_model.py
```

æ¨¡å‹æœƒå„²å­˜è‡³ `ml/src/models/rent_prediction_model.pkl`

### 4. å•Ÿå‹• Web æ‡‰ç”¨

```bash
cd webapp
python manage.py runserver
```

## ğŸ—ï¸ æ¶æ§‹è¨­è¨ˆ

### ç‚ºä»€éº¼é€™æ¨£è¨­è¨ˆï¼Ÿ

#### å•é¡Œï¼šæ··åˆæ¶æ§‹çš„å›°æ“¾
- ML ç¨‹å¼ç¢¼å’Œ Web ç¨‹å¼ç¢¼æ··åœ¨ä¸€èµ·
- ç‰¹å¾µå·¥ç¨‹é‚è¼¯é‡è¤‡ï¼Œå®¹æ˜“ä¸ä¸€è‡´
- éƒ¨ç½²æ™‚ä¸æ¸…æ¥šè¦æ‰“åŒ…å“ªäº›æª”æ¡ˆ

#### è§£æ±ºæ–¹æ¡ˆï¼šå®Œå…¨åˆ†é›¢

```
ML é–‹ç™¼ (ml/)          å…±ç”¨ (shared/)         Web éƒ¨ç½² (webapp/)
    â”‚                      â”‚                        â”‚
    â”‚â”€â”€â”€ è³‡æ–™è™•ç† â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                        â”‚
    â”‚â”€â”€â”€ æ¨¡å‹è¨“ç·´          â”‚                        â”‚
    â”‚                      â”‚                        â”‚
    â””â”€â”€â”€â”€ ç‰¹å¾µå·¥ç¨‹ â”€â”€â”€â”€> FeatureEngineer <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                           â”‚                        â”‚
                           â””â”€â”€â”€â”€ ç¢ºä¿ä¸€è‡´æ€§ â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å„ªé»**:
1. **é–‹ç™¼æ¸…æ™°** - ML å¯¦é©—åœ¨ `ml/` ä¸å½±éŸ¿ Web
2. **éƒ¨ç½²ç°¡å–®** - åªéœ€æ‰“åŒ… `webapp/` + `shared/` + æ¨¡å‹æª”æ¡ˆ
3. **é›¶é‡è¤‡** - ç‰¹å¾µå·¥ç¨‹åªæœ‰ä¸€ä»½ï¼Œä¿è­‰ä¸€è‡´æ€§

## ğŸ“¦ æ ¸å¿ƒæ¨¡çµ„

### DataLoader - è³‡æ–™è¼‰å…¥å™¨
```python
from ml.src.preprocessing.data_loader import DataLoader

loader = DataLoader(data_dir='ml/data')
df = loader.load_raw_data()
```

### DataCleaner - è³‡æ–™æ¸…æ´—å™¨
```python
from ml.src.preprocessing.data_cleaner import DataCleaner

df_clean = DataCleaner.clean_pipeline(df, remove_outliers=True)
```

### FeatureEngineer - ç‰¹å¾µå·¥ç¨‹å™¨ (å…±ç”¨æ¨¡çµ„)
```python
from shared.feature_engineering import FeatureEngineer

# è¨“ç·´æ™‚ä½¿ç”¨
df_encoded = FeatureEngineer.encode_features(df)

# Web é æ¸¬æ™‚ä¹Ÿä½¿ç”¨åŒä¸€ä»½
# ç¢ºä¿ç‰¹å¾µå·¥ç¨‹é‚è¼¯å®Œå…¨ä¸€è‡´
```

### ModelManager - æ¨¡å‹ç®¡ç†å™¨
```python
from ml.src.models.model_utils import ModelManager

manager = ModelManager('ml/src/models/rent_prediction_model.pkl')
manager.load_model()
predictions = manager.predict(X)
```

## ğŸ“Š è³‡æ–™è™•ç†æµç¨‹

```
åŸå§‹è³‡æ–™ (CSV)
    â†“
[DataLoader] è¼‰å…¥è³‡æ–™
    â†“
[DataCleaner] æ¸…æ´—è³‡æ–™ï¼ˆç§»é™¤éä½å®…ã€ç•°å¸¸å€¼ï¼‰
    â†“
[FeatureEngineer] ç‰¹å¾µå·¥ç¨‹ï¼ˆå±‹é½¡ã€æ¨“å±¤ã€ç·¨ç¢¼ï¼‰
    â†“
è¨“ç·´è³‡æ–™
    â†“
[æ¨¡å‹è¨“ç·´] Ridge Regression
    â†“
ç”Ÿç”¢æ¨¡å‹ (.pkl)
```

## ğŸ¯ æ¨¡å‹æ•ˆèƒ½

ä½¿ç”¨ Ridge Regression (L2 æ­£å‰‡åŒ–):
- **ç‰¹å¾µæ•¸**: æ ¹æ“šè³‡æ–™å‹•æ…‹ç”¢ç”Ÿ
- **è©•ä¼°æŒ‡æ¨™**: RÂ²ã€RMSE
- **è³‡æ–™ä¾†æº**: å°åŒ—å¸‚ + æ–°åŒ—å¸‚å¯¦åƒ¹ç™»éŒ„è³‡æ–™

## ğŸ”§ æŠ€è¡“æ£§

- **ML**: pandas, numpy, scikit-learn, matplotlib, seaborn
- **Web**: Django
- **å„²å­˜**: joblib (æ¨¡å‹åºåˆ—åŒ–)

## ğŸ“ å·¥ä½œæµç¨‹

### ML é–‹ç™¼æµç¨‹
1. åœ¨ `ml/` ä¸­å¯¦é©—å’Œé–‹ç™¼
2. ä½¿ç”¨ `ml/scripts/data_pipeline.py` è™•ç†è³‡æ–™
3. è¨“ç·´å’Œè©•ä¼°æ¨¡å‹
4. å»ºç½®æœ€çµ‚ç”Ÿç”¢æ¨¡å‹

### Web æ•´åˆæµç¨‹
1. åœ¨ `webapp/` ä¸­åŒ¯å…¥ `shared.feature_engineering`
2. è¼‰å…¥è¨“ç·´å¥½çš„æ¨¡å‹
3. ç¢ºä¿ä½¿ç”¨ç›¸åŒçš„ç‰¹å¾µå·¥ç¨‹é‚è¼¯
4. é€²è¡Œå³æ™‚é æ¸¬

## ğŸ“š è©³ç´°æ–‡ä»¶

- [ML ç’°å¢ƒèªªæ˜](ml/README.md) - ML é–‹ç™¼å®Œæ•´æŒ‡å—
- [Web æ‡‰ç”¨èªªæ˜](webapp/README.md) - Django æ‡‰ç”¨ä½¿ç”¨èªªæ˜
- [å…±ç”¨æ¨¡çµ„èªªæ˜](shared/README.md) - å…±ç”¨ç¨‹å¼ç¢¼èªªæ˜
- [ä½¿ç”¨æŒ‡å—](docs/USAGE.md) - è©³ç´°çš„æ¨¡çµ„ä½¿ç”¨ç¯„ä¾‹

## âš ï¸ é‡è¦æé†’

1. **åŸ·è¡Œè·¯å¾‘**: æ‰€æœ‰è…³æœ¬éƒ½æ‡‰å¾å°ˆæ¡ˆæ ¹ç›®éŒ„åŸ·è¡Œ
2. **ç‰¹å¾µä¸€è‡´æ€§**: Web é æ¸¬æ™‚å¿…é ˆä½¿ç”¨ `shared/feature_engineering.py`
3. **è³‡æ–™ä¾è³´**: è¨“ç·´æ¨¡å‹å‰å¿…é ˆå…ˆåŸ·è¡Œ `data_pipeline.py`
4. **æ¨¡å‹æ›´æ–°**: ä¿®æ”¹ç‰¹å¾µå·¥ç¨‹å¾Œï¼Œéœ€é‡æ–°è¨“ç·´æ¨¡å‹

## ğŸš€ éƒ¨ç½²å»ºè­°

éƒ¨ç½²åˆ°ç”Ÿç”¢ç’°å¢ƒæ™‚éœ€è¦ï¼š
- âœ… `webapp/` ç›®éŒ„ï¼ˆDjango æ‡‰ç”¨ï¼‰
- âœ… `shared/` ç›®éŒ„ï¼ˆç‰¹å¾µå·¥ç¨‹ï¼‰
- âœ… `ml/src/models/rent_prediction_model.pkl`ï¼ˆè¨“ç·´å¥½çš„æ¨¡å‹ï¼‰
- âŒ `ml/data/`ã€`ml/output/` ç­‰é–‹ç™¼æª”æ¡ˆä¸éœ€è¦

## ğŸ“„ æˆæ¬Š

æœ¬å°ˆæ¡ˆä½¿ç”¨å°åŒ—å¸‚å’Œæ–°åŒ—å¸‚æ”¿åºœé–‹æ”¾è³‡æ–™ã€‚
